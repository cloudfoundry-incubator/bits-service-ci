resource_pools:
  - name: large_z1
    network: cf_private
    stemcell:
      name: bosh-aws-xen-hvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      availability_zone: eu-west-1a
      instance_type: c3.large

  - name: small_z2
    network: cf_public
    stemcell:
      name: bosh-aws-xen-hvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      availability_zone: eu-west-1a
      instance_type: m3.medium

  - name: api_z1
    network: cf_private
    stemcell:
      name: bosh-aws-xen-hvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      availability_zone: eu-west-1a
      instance_type: c3.large
      ephemeral_disk:
        size: 102400

  - name: runner_z1
    network: cf_private
    stemcell:
      name: bosh-aws-xen-hvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      availability_zone: eu-west-1a
      instance_type: c3.large
      ephemeral_disk:
        size: 64000

jobs:
  - name: api_z1
    resource_pool: api_z1

  - name: ha_proxy_z1
    resource_pool: small_z2
    properties:
      router:
        servers:
          - (( grab jobs.router_z1.networks.cf_private.static_ips[0] ))

  - name: runner_z1
    instances: 3
    networks:
    - name: cf_private
    properties:
      consul:
        agent:
          services:
            dea:
              check:
                interval: 5m
                name: dns_health_check
                script: /var/vcap/jobs/dea_next/bin/dns_health_check
                status: passing
      dea_next:
        zone: z1
    resource_pool: runner_z1
    templates:
    - name: consul_agent
      release: cf
    - name: dea_next
      release: cf
    - name: dea_logging_agent
      release: cf
    - name: metron_agent
      release: cf

  - name: bits_service_z1
    networks:
    - (( replace ))
    - name: cf_private
    resource_pool: small_z1

  - name: postgres_z1
    networks:
      - name: cf_private
        static_ips: (( static_ips(5) ))

  - name: uaa_z1
    properties:
      uaadb:
        address: (( grab jobs.postgres_z1.networks.cf_private.static_ips[0] ))

  - name: router_z1
    networks:
      - name: cf_private
        static_ips: (( static_ips(1) ))

  - name: etcd_z1
    networks:
      - name: cf_private
        static_ips: (( static_ips(3) ))
    properties:
      etcd_metrics_server:
        nats:
          machines: (( grab jobs.nats_z1.networks.cf_private.static_ips ))

  - name: nats_z1
    networks:
      - name: cf_private
        static_ips: (( static_ips(2) ))

  - name: consul_z1
    networks:
      - name: cf_private
        static_ips: (( static_ips(4) ))

properties:
  ccdb:
    address: (( grab jobs.postgres_z1.networks.cf_private.static_ips[0] ))
    databases:
      - (( replace ))
      - {name: "<%= ENV.fetch('CF_CCDB_NAME', 'ccdb') %>", tag: cc}
  databases:
    databases:
      - (( replace ))
      - {name: "<%= ENV.fetch('CF_CCDB_NAME', 'ccdb') %>", tag: cc, citext: true}
      - {name: uaadb, tag: uaa, citext: true}
      - {name: diego, tag: diego, citext: false}
    roles:
      - (( append ))
      - name: diego
        password: <%= ENV.fetch('CF_PASSWORD') %>
        tag: admin
  nats:
    machines: (( grab jobs.nats_z1.networks.cf_private.static_ips ))
  etcd:
    machines: (( grab jobs.etcd_z1.networks.cf_private.static_ips ))
  hm9000:
    ca_cert: |
      -----BEGIN CERTIFICATE-----
      MIIFBzCCAu+gAwIBAgIBATANBgkqhkiG9w0BAQsFADATMREwDwYDVQQDEwhobTkw
      MDBDQTAeFw0xNjA0MTMxODU4MTJaFw0yNjA0MTMxODU4MTZaMBMxETAPBgNVBAMT
      CGhtOTAwMENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAtLwB0Bf3
      exqbh/nmOrDkhw1FH2eQmsVE6xGtu9+IF13ygcL/p2D8UMxFKWsRZ7+Z1DSyrCCm
      tcgoKJVfuRhfE4xMjbw52VLVmsDIQE4+qF6CVt4ZygP70+1s44eLqZrMo+ikCj7N
      tD9BNq3UAmkU2IqixaDkyCHpJytILiRazYC5EBEqunkBPn3y9hO1nMVEOBt9v0MS
      EKOSbrdjx+vHHzYRlVEHG3CuA5q5jwZPxi0eoHdw8YXp3j2L6/PEuluYw58H6nA5
      P0Y433UwcA1ROSua8l/wwjMoEX6Vm5viwIovjBjAZ8MI5pQtQOIABwRipSxELGhX
      pYhLfaMW+92x9uxC9DpSkiVBipuuYkeYISxO5b6y4tBPh0b6foKctc0ryTD+pJVD
      EyLACPAcNgS1wGsMa7YH03G+VXXRjKUqF36D+Zubk3xfXJ+IOvoWOuhC1s0DPxSJ
      DrGfO0egash9wOsvj7DhZfAUNXQ2OIR3kqg03tmRiJgBmNT8kR7VstxvZHt7axhA
      vGnH8ZedUzCYrx/JQIsf9zAKNJcZJLqS92AwVzUdy0EX/hPA7m2BAyB2U//JsqFS
      5czfnyUnK4/7yAxAZxF8PfeKsNme2/fePo115LtWdzSZKVLR5xWxqYlTui4T52Jv
      7kEhXDqFfRMDL82IuyhTwBDnq7BNrxihNoECAwEAAaNmMGQwDgYDVR0PAQH/BAQD
      AgEGMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFEnhXKTM30d9/AIyu/nA
      x8E6tQj+MB8GA1UdIwQYMBaAFEnhXKTM30d9/AIyu/nAx8E6tQj+MA0GCSqGSIb3
      DQEBCwUAA4ICAQAW4ah78ps3/eZpoW74cDei9YQaFuXHaW8xsoK+J+DKTKpSv6Lt
      OBmOc9BJXkbQKgThAyo7zBmzoEQC+ME5QfTIknHNsv1gJeOINhVUB6hEDbvq1odI
      ELTBnSdL52StQYR9hlB36XAsR90lhychC5HIFLzfJQYOB6LQ9EJ0B1vTNXrWZROr
      PzZSXWJ0x+PjYw0Nr4dc6ZHkRYrE8mF2Ook1hENhXu9Z02gWHZlV0xx4WQDTTovS
      Ynb+chXWG3YHoeAZN/qUt0wgTLuh2kktXekyAi6a4I5U8Iio62m/9bgybGoGN2yA
      p6vhWCjPPhzkEA3Q/pDGPjfQxom1b7uQvnve82wGT1LSRc6aXI04zv2iD0LfqFAa
      Brvw79oP+dtKhgDVebq/qdy9wq9xzduUGuvXWZqy/1mmyQR+9SeSXB3OakOsB5nC
      VUaVZecJeQU6tdjii5XW9g+iQZquntNj55AcRXPIfJmqVbyjncZGCn4ivyAehZhB
      pukz9HKeK34woQqXeR2S3dO4rhEeOWFLPGAhO9HSOoElmP/NnZ/mhG6JppZpKB6A
      qBfiluoSo+OeZuEzB3n/g+HgAFf6EbK2RKlKvjPm3pvG7EpganAFIUcMzocVlSfo
      LeYCIt44VUQ5YA5s71jWWIGVxtOQ3l8ejFBCkx2PcFZm02W/f+D/YXjLCA==
      -----END CERTIFICATE-----
    client_cert: |
      -----BEGIN CERTIFICATE-----
      MIIEJzCCAg+gAwIBAgIRAOxDP8BzxZpiy+6J6/d+LZUwDQYJKoZIhvcNAQELBQAw
      EzERMA8GA1UEAxMIaG05MDAwQ0EwHhcNMTYwNDEzMTg1ODE2WhcNMTgwNDEzMTg1
      ODE2WjAYMRYwFAYDVQQDDA1obTkwMDBfY2xpZW50MIIBIjANBgkqhkiG9w0BAQEF
      AAOCAQ8AMIIBCgKCAQEAvuEF9zZzTbO/1eXWzZwlfEl5THSCodG23kQYI8exMeQ4
      BWTGGbK19EnkFzzrmhM7cmI7mGH8te+XlZ2jrOvD2qGcXBjGt18AhztpXmCRkQd3
      LkcbE5IBNhJcaT0SmFDoU5zW05eMj9GEZwnDdokxEa9tICC69j27LDnsjiKa4SlF
      +B4q8B9g5hO02PWGf/FEChzsSoq8OgktNhkMl1H1HDY8MjJTz8KsC2n1XiSKW16U
      ekF93h84NFpvxaSrpD4KspPA1FtZzJcpp8EHi361A35Jt1v9XcFuvokv/x52o+Xw
      e3hUcLpq5kHiCcJmbB7UW8mLSBtok3Ts3Lr8MGux7wIDAQABo3EwbzAOBgNVHQ8B
      Af8EBAMCA7gwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB0GA1UdDgQW
      BBSQfoq2GPX2zqZM/2kxNP3PRm4k2zAfBgNVHSMEGDAWgBRJ4VykzN9HffwCMrv5
      wMfBOrUI/jANBgkqhkiG9w0BAQsFAAOCAgEAF6Xg4PqkhQkfInpCUGSrYpPssDQ1
      iSKkN27zQuO/mxQRLg1GEQvCk5AR/2p5ECc449ZoDG/8OYTNSbmeGl6nWl4HTcLh
      rkwrXYes3eXCfLpdNyH1d+Cb7gkVYxtiDhj9S8netJcXb/wwWEaDwzH5EA8dcGLd
      DR4vmLHsOo75P835RCtN30Dy82a+SVPGDV3TmHzpDGr8UpKzt3XbGDqXIwlJtbio
      Vu9GFN9GUVrxs7ai8r82InekXRjgrVwT/l8kFQNhwmwnxCkwWja13GRUOm2pBZ2g
      yMx4/p0awkr6zv9I9lheWe3CdsbcoCrA8+xttlkxlvGM6JMoweCWNH28hr6Z+pmy
      cgcb3/Ls3e/1QPaxT0LDeXlS9bgxYjrweNx3LKohY22FWT1W2I7/9z6ZI2upzrTV
      s4HbMrhcwuVpp4wX5P2bcNKoeWgYoYOtgX+iDcVZV+pxwvvSuYnRZgjIyBrFX+q4
      yv8Xc2h4U+jrOHlOxag5dxkjrqJYHw1uiLlEYcFgyqUARmSownKpkSldzQiNPSPu
      oACXX9EhGqPp2xDTnRdpD7xUTCuyRTxEeompflYfuclqZYpSQeLzOe+WyxSmc1Og
      YxbkAJ9OZ9WA5k2WXPohfYfjgXokVXnskw0+aJK73hE/XSOQFt4qPjAzAiht87ND
      F5mNpU2te4+Biq4=
      -----END CERTIFICATE-----
    client_key: |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEowIBAAKCAQEAvuEF9zZzTbO/1eXWzZwlfEl5THSCodG23kQYI8exMeQ4BWTG
      GbK19EnkFzzrmhM7cmI7mGH8te+XlZ2jrOvD2qGcXBjGt18AhztpXmCRkQd3Lkcb
      E5IBNhJcaT0SmFDoU5zW05eMj9GEZwnDdokxEa9tICC69j27LDnsjiKa4SlF+B4q
      8B9g5hO02PWGf/FEChzsSoq8OgktNhkMl1H1HDY8MjJTz8KsC2n1XiSKW16UekF9
      3h84NFpvxaSrpD4KspPA1FtZzJcpp8EHi361A35Jt1v9XcFuvokv/x52o+Xwe3hU
      cLpq5kHiCcJmbB7UW8mLSBtok3Ts3Lr8MGux7wIDAQABAoIBAB+WIyOWmhwIm70s
      rJAXv8hCbFUvjpJynr1HLWt2Vyc3aeHSnEmSXjPPqnQB+8biWdsC0HPV+zisLjxu
      +q/Zz+41AifnXbLogLDgLv6UImKKhrlcwOlLJvIotawglBwqf1eew5n+IR+Hf06B
      uhu6dilEC13erLGk431dFH0s0s5hecJ2dRMoWvyFnGshtRBE42OsKTdfRJe8Aony
      qUa67L/06k0W7PCGVZE3i/qI3f4Kn5QE30j1gMjS0tYPKFStBocM43rxasYfJsk7
      67rPLeyKKGmZOTVjem8Wx6YYvTcpXXllLcZgCljBH7Kk6uXZsgFWw20MXejDAvRj
      o4uc6AkCgYEAzmkQv8ygg8oZeKelGEgrtP5OgQRkfGEp5RJRsCdtMmUgnBhUaJM0
      7QrZ99CJDwL/+W+WXtrmCgwRQa428W5D5p4f49LeNQMwbA9R9yhMQ4oy3arP1QYA
      K3WRyLbW718C7D/H5TWS+39fiG5Oppb3bKSO5tcfzVIEivXb0NflGjUCgYEA7Ly5
      QLSQWhQyfPK7wmsvb9Oc06r64yATRyY6nuaHghYmr5wRkRO7zEdsS2bT0LpXP+73
      /yAxLyQd8W200Ub27QG/USv1EMfALvZ8BjJD6uH7ftg5GEzhWMCj9viUHtFZN5SY
      Wl/dXj7it4/e+cQAn/1136vuJwUU/T06zowXwBMCgYAls/VWQ4dya0EZ0+2JMO2i
      4uzuDiJYwdrIN/9p4NnGYciCGsOYUoNRZTEJXjMa5d5h7qsV6oAoh6nDSJJKqWyH
      vIxwrfzezBVVN7suHVNI5v6BlQjfjXgMeC5H7nX2RXGgO8pEqPOPMuX9YsDFF0Bc
      vPZJXjQ16exggaZEUJtNnQKBgQDlZaaZVZ5/Ow0FWGyqYxSvZr2Tuh2skns7uYaa
      TUZHvtEz36aCDz4uH5OHqRddLgO3twdml7oxNO0y8hyBoiNJ3CSYMmEhJn5Kw5vA
      oVqAswPxkPIaYv0F9H2tpohZKIEsQ3gyMqyeU497UhU9rzjvzzo2SDLYaqtBDOD8
      HnIxMwKBgHM15Rf3MAdjZXdaRMlENG2kA0g/wtN1ayKBkXTA4/B6eBZtfcxfhpLO
      IHpqIYccHr3MgRbcEO+1O8aKUPiIkXDN14JHzYQ76mz6xIrWYz3P1pMBL50FTmGm
      OqVUFbm0nNKxu0x0NCD7/EsCYKl9i4VFNWZLLwdmQJl54qbdR+tJ
      -----END RSA PRIVATE KEY-----
    etcd:
      machines: (( grab jobs.etcd_z1.networks.cf_private.static_ips ))
      peer_require_ssl: false
      require_ssl: false
    port: 5155
    server_cert: |
      -----BEGIN CERTIFICATE-----
      MIIEljCCAn6gAwIBAgIRANIwYP3E3QoZd/vwAFEnQNUwDQYJKoZIhvcNAQELBQAw
      EzERMA8GA1UEAxMIaG05MDAwQ0EwHhcNMTYwNDEzMTg1ODE2WhcNMTgwNDEzMTg1
      ODE2WjAuMSwwKgYDVQQDEyNsaXN0ZW5lci1obTkwMDAuc2VydmljZS5jZi5pbnRl
      cm5hbDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMgCCcECz0qcAnqM
      b8qwX+1Vt0JQuv4Abtg9RYZEQ6VaCDjST6BJoq9Hyb0b1ZdHMa94GzUZh6i+fFuW
      2j+3HR+pP6KV465TORB9AfPhbRTzJwn0z3OlNGEwNjy6p3J8bOzozzmqryL+15mx
      zAHoOvtjR6Yrgrpr9gNhof2t9DW5Nwg7FOxXQGXbGJPWPkM802nTRM2XSue1qEKW
      lsb1pi67l7z3IwpM/hTqs50miElbBejlSZL0GQo09MamxhYfxTDzeV6sSsoGk1/j
      thikCKAB8ZrOl1KXqn8yMMT3B2406keCQZ4E93fBUbsfh+725jvyXlgxGNnXb43X
      YjfxO+MCAwEAAaOByTCBxjAOBgNVHQ8BAf8EBAMCA7gwHQYDVR0lBBYwFAYIKwYB
      BQUHAwEGCCsGAQUFBwMCMB0GA1UdDgQWBBQ7zgbG0KZw7QvEjlscw93cJJ2EyTAf
      BgNVHSMEGDAWgBRJ4VykzN9HffwCMrv5wMfBOrUI/jBVBgNVHREETjBMgiUqLmxp
      c3RlbmVyLWhtOTAwMC5zZXJ2aWNlLmNmLmludGVybmFsgiNsaXN0ZW5lci1obTkw
      MDAuc2VydmljZS5jZi5pbnRlcm5hbDANBgkqhkiG9w0BAQsFAAOCAgEAWKT/drcR
      46O156eXKt6vVgP8kaPCVcAX2IhszLyM8OsJEAiX5eTWrwoU6HI+R4Eg+E6pcR5V
      zgsyVKPa3kQ7Kx2xMhcyH3ragGPv0jJpnuDa46J0DpgumXnjwQ/c9+eJV9wRqDDw
      Cka48v9cEXoccVDjmNF4Z9J0J8iJAYcvOPs2zUiOHNWyohSBeT/DrpizJNqmQS6Z
      V7rIgcB2IN/8zTYx2HLTONc0MdOYz2gLfi1pyN29tfBZUG2o2IO61o2IQpXEJN3L
      LPUK0NwGwlRV3Qca03QfMff8IdZzfg2hcrwcc6ttUqHA7d+UKPaLYBJfsBMPwHiC
      dr2JT8bE+eYzDdmHFvYd3yTJuMb+3OzKr8+ywqwFbg4fLnced8WPr6FQXo1HEHWj
      q2Qx/I1981C2vcWBB5/FKVSqL3UTia2kJvC99GBihi+GFEPMH4nMvlDaQ84adsVY
      0qUbnbRGZ27NPaqoEIrH85su5kAGxa8phFGLfTHhiZVJmk9iSNhkkY0t+9XRsP62
      taWO8XOh2oScrgjNjPUL+P0dgalhslrf3ABmHqsJ1rAw3r8lgpBccTwAIoPh1kWT
      VtoVvhImJuFimxBMeMEaiixTi0fmTjpa802gL/iTEUeGbdQuIKtSr/Xpv1bkhmZr
      iVBKqNDd/PSAuwy/SL0qjvElvePEWbY+G8I=
      -----END CERTIFICATE-----
    server_key: |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEpAIBAAKCAQEAyAIJwQLPSpwCeoxvyrBf7VW3QlC6/gBu2D1FhkRDpVoIONJP
      oEmir0fJvRvVl0cxr3gbNRmHqL58W5baP7cdH6k/opXjrlM5EH0B8+FtFPMnCfTP
      c6U0YTA2PLqncnxs7OjPOaqvIv7XmbHMAeg6+2NHpiuCumv2A2Gh/a30Nbk3CDsU
      7FdAZdsYk9Y+QzzTadNEzZdK57WoQpaWxvWmLruXvPcjCkz+FOqznSaISVsF6OVJ
      kvQZCjT0xqbGFh/FMPN5XqxKygaTX+O2GKQIoAHxms6XUpeqfzIwxPcHbjTqR4JB
      ngT3d8FRux+H7vbmO/JeWDEY2ddvjddiN/E74wIDAQABAoIBAQDEhQwkc6hOPOBK
      nXayh36Z6mD4be5t6OsA2aNYe/ajn8T4X90RN4j8BON6RsEltTRinvbMw9sBuLjk
      HWMwu7GIDHqUPAbMoMUvKEUk5liR/yBargqwLKE85WxFW3lwCkXUuiPzG3yePByH
      zaUQMqjRnQkngxUeKzo8tE/AvI15wleOopLK/VFrmYnamBR9tzXrvosZwg+QW/aP
      lwNRCNI7TWkE5tnCPIHK4s2R43sujKnlr45a4fk9b+RZL5K+p1DOkMotTFMHJg3a
      vvo3hw0sl5xzYkjxvi+mZ7+Em8kSByR0baWRxwYleisi3PupRseVVSjoaB/WZJ/K
      gUeEnyzxAoGBANUChRzxOBCmnP4JJCG3m3mgE8ldVInmDOiQWC+N3myM51FMImwQ
      6HaRLIuodsB5GcQtagWBQFyntHSdiY9vQ18iNV7mq8/0W/gQ41VQoWf1OGjkW8TD
      cdLARsIxxCKRatIUmLWDi8IwbB83R406BX7C8dgQSsQme/rgH4lBxUFHAoGBAPBf
      wYYZisdMYsaud8EiDKjZezQBTJmbe2qM3A+ePlLH5G4v0toAkECHsS2bM4qEysbA
      hk9LVoRrbzdE3x21XQhtLcfpouUH7b3KBE9byJD1EBZniArkaxlMwsdMotBz7hxi
      AYcUpJryXdqEQbPOZocX8tT1TtzD0Gg09A2CsB6FAoGBAIa2REcMit+E7459a3tj
      ahFeWoUj4D4h3pIKD6trdnqCFhzFIJPlkY7Cu0BLt2Z8b/4wlneKyZCPg0GpDAFJ
      ZXs54DT3fztSGAPnck5XYuyjGhzEJwFmdYrKjTVtUdRm0P6xhe5tliqmgwqu5DJ9
      ulHzqg1yKEaq7Ae6TFd63+wrAoGAUhwzrE4/VNMoDrx8VfH+pxMbfelPtE0jfIM/
      jOo+WeLEiks12JhGrnRrtquEkLXJ2tjbSGzw0e0tIZEaMjjI3d8Fu3t41Im/0YwX
      qtAslC/SXgThuO7MEulgw9nO6Cwh03o7EVyg2fkezE1PcE96QH2SyuI9HTaak247
      S/4vkU0CgYBD5LJQR8eM1yosJalgS+izmyfxwvm5YpOswo4AIrAeSV6zr0WyJHkz
      ElyjRw6IVW5dbpM0775+1kNh7VmPRVOq2wP5vzJlAOKrPhlWnzH+835oDZztokFY
      eUS76fOekZUjWud8a3xOmo6g1jn9w4Te1Pa6zxRaICzQvhyQZrWvhg==
      -----END RSA PRIVATE KEY-----
    url: https://hm9000.<%= ENV.fetch('CF_DOMAIN', 'system.domain') %>
  loggregator:
    etcd:
      machines: (( grab jobs.etcd_z1.networks.cf_private.static_ips ))
  consul:
    agent:
      servers:
        lan:
          - (( grab jobs.consul_z1.networks.cf_private.static_ips[0] ))
  diego:
    route_emitter:
      nats:
        machines: (( grab jobs.nats_z1.networks.cf_private.static_ips ))
    bbs:
      sql:
        db_driver: postgres
        db_host: (( grab jobs.postgres_z1.networks.cf_private.static_ips[0] ))
        db_port: 5524
        db_username: diego
        db_password: <%= ENV.fetch('CF_PASSWORD') %>
        db_schema: diego
      max_open_connections: 500
  dea_next:
    memory_mb: 33996
    ca_cert:
    client_cert:
    client_key:
    enable_ssl: false
    server_cert:
    server_key:
  cc:
    mutual_tls:
      ca_cert: &cc_mutual_tls_ca_cert |
        -----BEGIN CERTIFICATE-----
        MIIE7DCCAtSgAwIBAgIBATANBgkqhkiG9w0BAQsFADAWMRQwEgYDVQQDEwtjZi1k
        aWVnby1jYTAeFw0xNzAyMTAxNTU0MzBaFw0yNzAyMTAxNTU0MzRaMBYxFDASBgNV
        BAMTC2NmLWRpZWdvLWNhMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA
        nZwVMVTHWv9Rz36PwyH10bkz4rFPhV7qPfjYwrdGjR2CbIyAfVXpL70u58pPpXxp
        h8idUA0dDhyQmxpuQ3dXkZjZei+OanZRfwS7T2oIx1Hz7eeVgwOXMGOpz4/inbmV
        wVBu1JktaMa1Wf0KeP39Xx+ie8MmYeZdK01lUaQas1KuvvNQxTYOTs4Ga2BvH0Eq
        Vrey9jiD3lBe6zjTN4Ucp6UPWzi5ZyXR4W7o+WAD/PJiHYRfPneL5g4yUhLzWZAs
        GusTRq3MYaX8Stm7XQQ1lxthtHNSQSOvOwcso4PHy58hCGG9iVT0LHi0AOZcOQpl
        YhzvohXy2hCoAE+WDx1jir4Acl7CuxKXs9AspTRxvMqcGwkwX/1GhUGWZzGvOHKr
        CYciAnEy/xLMkTE8EbC8es9DV04UpCpP+ir6AyRJuxBYHWwz4VANdkYjJc9pGNcJ
        TWkjNFnzJ0Vkei40SiuC0BZLppsteT0TLSVPB7I1bRrVsbbPbrQJBo/SD9pWlytD
        asXHlLgZdfmmPT3ixTu5p7Fqw2y5nAI2oaUjvPXCh2kBu/EzuVIaA7W/FyWm1Y/Z
        Gl2gyrOXHzSyGsRW5kLM1kjcN/3KfHRw9oMQg/WyNefmrqnuRJoWVg0ArpGpstwF
        GGbvxc77C/W+lEzN+YqCGYmWolyohgA6Lm6LwPcvRO8CAwEAAaNFMEMwDgYDVR0P
        AQH/BAQDAgEGMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFMPiF14PFKH5
        4j70qb8L4sSVWK3bMA0GCSqGSIb3DQEBCwUAA4ICAQB0QLofxwZ87z3brMmEfkH2
        KuRQJOFsrEU3AbMjx1wXVEr+5lwA66NNrOvnhQD/TqwcoURXel88ZG2GIGT0paLL
        R9bglksXwhf7rFZI8b83WazRwMCbGIeTbe5m6dZVRLR+6iCP9jcrlci2i+gwK0t5
        B8dmAcjeHyUWmekyGPzdgW0hxrL8Eop3oCkMxQbapHnM19BQZMl9eezTi/rd15UH
        4E6L/0IQTo8VDIFbfBfuK1dVfMlWVDKO5a8DIdnDpx0/5TjodBpireI0hsBcVdOi
        8almsNfA3kvwvYBvcI9/PjGc4EPv2MKpiVBTP6ZcW6UYt0JmG9Ga2cBGlhCE8si3
        4POHyBqAo9tVucwQEj+UhvnRjZnO5DMjjCwNKxgq6swEgmjVEXWYvZnWEz/yWst7
        hsXaF3lMTUAa1rzgEluGKoqRLetRfLSy8PLltsaKhSNaXPeWS6qBPnmCspv5h1bV
        IFnkSKL9LTpsNdKuH7kB+cpE/xpQXYPlQ6WBnH7jM1i/suQXCqyXHXAX8nn2cBwe
        b2f9v76saMMbS3vT74q/gngBXZO+2lh/Q5s+kKrryKgGEs9ASniiNip78+0kcbjy
        bh19MFHyGh9nSWKAoffzveaUwtEy4CjIgHlw/hy54YYnd3Yh2uDjtAMmL9n0Dxz4
        DNb4lpDKFf0tCSvqhJKCJQ==
        -----END CERTIFICATE-----
      client_cert: |
        -----BEGIN CERTIFICATE-----
        MIIEQzCCAiugAwIBAgIQcVrOhv3sphGaMRR+pJn1XzANBgkqhkiG9w0BAQsFADAW
        MRQwEgYDVQQDEwtjZi1kaWVnby1jYTAeFw0xNzAyMTAxNTU0MzRaFw0xOTAyMTAx
        NTU0MzRaMDIxMDAuBgNVBAMTJ2Nsb3VkLWNvbnRyb2xsZXItbmcuc2VydmljZS5j
        Zi5pbnRlcm5hbDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKimaBHk
        UW92GMOXavm207bNf6iQel4BYseOqqPN9aHQL8vBQbHRx9uXbv8ot+22A0Ph5JTz
        /Mj1mp1Q/PiyTGxbJq5L5x/+ZwE9NRag7sCa4MPPvbds+vTDppqBfBIVa5KixkL7
        u47Oav/mUVWkxqRIaniY7/9gzx54MFI/I3VOxuci/R6R2AI2qH6WQ2uXbSVeJAeU
        532iXNAQttVRNJ8G+SiSYOwAPcQWTuds2zU0Uu0flI361ovJnH2FvDydm2ISMxKt
        TeGalgIU8DofAh8138YudywEETGLQbP4Ip9KdeoiOe8A+AtjaGY3H9+6hC0uQl0J
        2IqTb+wokjBiwEkCAwEAAaNxMG8wDgYDVR0PAQH/BAQDAgO4MB0GA1UdJQQWMBQG
        CCsGAQUFBwMBBggrBgEFBQcDAjAdBgNVHQ4EFgQUlQiEU1ngu6oNEhvAaYGU/1bz
        mxIwHwYDVR0jBBgwFoAUw+IXXg8UofniPvSpvwvixJVYrdswDQYJKoZIhvcNAQEL
        BQADggIBABd37mnJuJ3SMjUIvpMEkilKAvEROtSh3gGzg+SlEAJnlelZNVIL+SN9
        HhPC9PGfn5LCYJWJ81fJErvncuJSE7X+6DijwHcXpc9vfeAPlKc4NCFqvcZhKY0y
        qSYkL7uPNK9eSgFYSwaS+reXcjcMih6JEw6fHJNm3uQVSCoqn8k1Vt7ZQT9QS9Cs
        3qH8dlRDOr+CWwO8n9r52K29OyO13ML1zSxIaxtRIuYxCz5vsga9doVh1XpUBhem
        4pT55GSeRz0Z7WLBtCfCIBU2wi/5AQBPPhjhtv0Qxp2IgjSHvAWEzlReVOnJIfq7
        miIYAiXyALGh/OJKyVEtgJlpfWBeHo8rrjq4TwVRo1PGUhEiH6y0eQ42D4pAp/gB
        6nFyhvZuOfLckJ3cqLCjdUG9tLArV0jknXzFlrXWqJyteklzt0I2WTG2x4tTOmS1
        NkRWace4XMp11Z/cG0y8ERX+pQzFuXaDuZykpq6dzVBRHcDmW1lANakZ7e3a9Wc4
        XjtRHYgBtIoqxWLKzIAl6XAQGB2L8rF36BQQk6yWb0xSAsupyiR9vPeeWEen8S5p
        IaHcxfk0SCWBtoi+ucxg2/1TkYdO6tzR+9Hb+ho4H4NjZ2gXvqQLmTeTyCsp2Qyl
        qLWun1PhTSqAX/Y1MLZyFUlIXgNSNsqA9072UXArfJUZWu4tvoau
        -----END CERTIFICATE-----
      client_key: |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEowIBAAKCAQEAqKZoEeRRb3YYw5dq+bbTts1/qJB6XgFix46qo831odAvy8FB
        sdHH25du/yi37bYDQ+HklPP8yPWanVD8+LJMbFsmrkvnH/5nAT01FqDuwJrgw8+9
        t2z69MOmmoF8EhVrkqLGQvu7js5q/+ZRVaTGpEhqeJjv/2DPHngwUj8jdU7G5yL9
        HpHYAjaofpZDa5dtJV4kB5TnfaJc0BC21VE0nwb5KJJg7AA9xBZO52zbNTRS7R+U
        jfrWi8mcfYW8PJ2bYhIzEq1N4ZqWAhTwOh8CHzXfxi53LAQRMYtBs/gin0p16iI5
        7wD4C2NoZjcf37qELS5CXQnYipNv7CiSMGLASQIDAQABAoIBADmlT5M2CIPhyQsp
        +X3LeUhVq5nxcHIrZRky8a612ozpvTyXHR5rxzWO6Hi88UmGWk1crCYh07jZAnVd
        VmqnfynWaj1PYnv0GD87LadDcPhSuBsWKhHFZW4+ZfcP5VnFCpT/oGcK5owkkDxR
        /GEaxm8m9YWtOPOAoqsWh+XFARi6O4H8pqFxfgiQEoIc31RuBuFnAdn1VzqZaOpE
        fFYXp0ZTd0p1buNoywKIRYpceURlL2o0HD1Wv8c3Knk+ugH2zhRvPsrUlkLgoRK5
        oBwBOnm5K7A/FyhfqwRusuqCP+ROPe4LgNCWcnXT/Hb3m5BCyFD5Ob2mlBy8PAvy
        oHKgkYECgYEA0k5PiXIFfiQpvhtXrBRJwN3s6qBdXCJGqr6z15y2PcuOj3ZesiyM
        gZeyLMzoMkpZ8zHbNhM922k9gYI6L14w2sWcG4h+P7qGToj1rM+vybZYZ+5ax7AX
        mqkOz6AUTAg+krPFDb435zWqCZ138wJWXRQwEGXRARh2IVrrs+Ai2vkCgYEAzUsa
        F9NbRgQmgI/MVA+CHN/2ZHzEohCrIziCv8O1MuRl9f/QIPkfKaCuDJDd9oPzGFMV
        NjmEtTfuCTe8YGrPK5wAHhNlbc/IEOZsbXDjL9PkmDPcDsEoKKNp83a9pwr+d+Ne
        USjIZBXLz9HUzXEm7/ud3CGGawBVLmJCv9T5k9ECgYEAwng7wEM5pQ1XtD2gcrVI
        Bhqxi7zC2AGyCw3RS53UP4xNxYeVxXjAbM2Tqy3HwUlTqDkAFh7w4kWM5IdBuq+E
        yahV1HgBFnkq3NB1LVnXmdUOJv0X4POKwC94TLIgUraE9i9aFn1BQII1PDLqykHt
        DqEuWNtty2+NPQbQUkL+uDECgYBneNsF9zmh6KWfVtsd41MpSpjdvSU+qjgX4HvG
        O9YweH4Lp4w3kljqmlofa0T04zy7neSrGAKTdEU90CHaVvtkd5R3lD8jQf8MxZcQ
        8j0P9jTZogngRer/0J2uYMLmVtw7gRYgwfV+vJ2leZVQlx+RBbljImKlu90zK8OI
        /MdugQKBgGYCbZMpEDHf6grRcqfwlI2f8qAAK5Q1iXoGt82GC/DxB14TPNYVioXA
        mW4ELYnw3NZ8haMSHnDxLlbpI70jfNuv2vKeHMuje64fU6xjTaWrFlnFSWjALtrb
        KxW7pQLW/V2uQ3aEksJO7fJYWNLbloCK/eiPbaX7PrjGyO2ILDXz
        -----END RSA PRIVATE KEY-----
  capi:
    tps:
      cc:
        ca_cert: *cc_mutual_tls_ca_cert
        client_cert: |
          -----BEGIN CERTIFICATE-----
          MIIEKDCCAhCgAwIBAgIRAIic+sm7663ffIdsG6lUC4owDQYJKoZIhvcNAQELBQAw
          FjEUMBIGA1UEAxMLY2YtZGllZ28tY2EwHhcNMTcwMjEwMTYyNjExWhcNMTkwMjEw
          MTYyNjExWjAWMRQwEgYDVQQDDAt0cHNfd2F0Y2hlcjCCASIwDQYJKoZIhvcNAQEB
          BQADggEPADCCAQoCggEBAKTcwjgHR9SPCgCRRzjTgomyUtaB9Z9sTlRNTN48lewK
          2wyIl4o6Z8z79vPdz97dQZqnux8J9w9gXTeDFjAj41zfF06e6nUoewjXsvJOXF6K
          GfXc1dilGkEgHxPcWi5NAI66f6wLDt0xVz8WssG6PvGRZm3lwvxEHGbA2yaIB3b4
          sm7Tz124DB1jXOBS5cJjcFQT/iYUJtWQc5UWnv3K5xXnqD6KugEnha4xUzqaUhuJ
          WVOfOurnhmYKVTZtwwyaXx0E8ISKy1eytOrUeYB+1NXcK+FsR2zYC0c+QZLhjgsA
          GJZyPfCGbSCCTOBTPyDmf3sr3+elMvz6bVQmYYhHuuMCAwEAAaNxMG8wDgYDVR0P
          AQH/BAQDAgO4MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNVHQ4E
          FgQU1IgfbxF2peNOMkGElpOSnpmLO5wwHwYDVR0jBBgwFoAUw+IXXg8UofniPvSp
          vwvixJVYrdswDQYJKoZIhvcNAQELBQADggIBAHihiyybli8RQ/2r2gDDb5fx7ACi
          /nybNen88xfzaf56p3YXt3fKgB4Fw+wSvOcJDbrkZ4dlkJIDkiR++wq+A2o8Syqx
          LdfCGXKrKswmjbgPTGvy///E30nUAMVxTkeQS0/yDp0lgnecjpXwA6TL4qqO4Hth
          nhxNykTrqOkVFn3LfrLqJJLVxol+rNasMl3jsk43dRtf70dBIL5ZsOJg00JnC9u3
          ycXqeNNYg7xY6jqQlVX4ILCa/DdWSpbxgeFLr3JjKYdy+Z/QLVo+YrAb/YiPf69z
          dckOQseDXDMUdrvogr/zfD6zO53mircZEAMefDQNjiYqI5Fy5otXVWKVO2h4Rf3V
          eEuH6/bAiediSEj0/2QyqxfrxoMvQVBvZqG4NvPkZ44rENQlKijwef8gUpfyd3B2
          kuU7sDHLYqfw1YRYlwmxOfSAoOUxSR1UP3/Xb9mCp3nznqnJXwYU+EzI1BljVtjc
          Ua8g34+q7uw6l0p2/xbwxO9yTPfmWskaKvqrztbZ52oJc6cYmZqi5xTL9wBrCxI+
          kwjZ+tO1MikgVsPYwe8Y0XkVcaFlVmPwW8AX86G9HJc3LGzQxBd4zMHDam31G+r4
          s9dYA1/0zUDXrnovl9xa6+vLgXd20l7iwyny16MeYfYoZtXHN25utwnMnaI2t6pj
          T7u3uCu6rwTRz0W9
          -----END CERTIFICATE-----
        client_key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEApNzCOAdH1I8KAJFHONOCibJS1oH1n2xOVE1M3jyV7ArbDIiX
          ijpnzPv2893P3t1Bmqe7Hwn3D2BdN4MWMCPjXN8XTp7qdSh7CNey8k5cXooZ9dzV
          2KUaQSAfE9xaLk0Ajrp/rAsO3TFXPxaywbo+8ZFmbeXC/EQcZsDbJogHdviybtPP
          XbgMHWNc4FLlwmNwVBP+JhQm1ZBzlRae/crnFeeoPoq6ASeFrjFTOppSG4lZU586
          6ueGZgpVNm3DDJpfHQTwhIrLV7K06tR5gH7U1dwr4WxHbNgLRz5BkuGOCwAYlnI9
          8IZtIIJM4FM/IOZ/eyvf56Uy/PptVCZhiEe64wIDAQABAoIBABva1NHkoQVP+a+o
          3DDEw9yCDa8CnD6IbR+fQ+qUr/wGxYXzmi8XuSwQMmR3yMRt+8SmrF4NL/ogHP/h
          HSGbHrI1W1nETfbnlQokb66zALZUfRhmbJdDJhF03OtdIruJ9RsodaPa5nMHACe/
          rQpAbpwgJf9Rf8VhuK6/zQdQmnpGO2mFrYRJAT3GAzZJPA4M9tavgPGRBY23pVeG
          Wxp8+pwbz8tI1OpkfQHVll76wr+GQm3ZSmwzcPz1jn2Zew55mlvwPowAdiGqqcut
          xH/6EUa/1M14+3bm3MdODsUWmubNc20hSn/onhRWADhwunIM+n3d7PYNFJ9LyXUM
          EoFY5dECgYEAyj9L9SWFeX1bU/1KSqaROVeiCsY7XIwMRP95aOmtXRJIkwIkE2Ud
          k/79ZV7FQ+Qh3PFresHXXqTyP2fwx5qLYXiXLanumXsUgj1kSjyZByMRtLqE9Qy8
          MttU+ZCJINUko6S+yv4G6v0J72YuGyqYiKjZlAoCTRq3vK0nhurAxMkCgYEA0K3U
          TppZm+yYvR41bSQTBU+S/ynjHyoF8wCGVOxfFH8pRO3H6Lm84NKtXry1643S8gkD
          rehsuHjJlbLuQGlTzDNicdCrLEl90fwTufa8RoA/5hJDVooh0UwCqh/EgnKVYH5F
          2VaIVxdsVIr6JCb1+5CJlB02o0qieqBZGVQLdEsCgYAfAIDmPTAupVagk00WEF5m
          idZfDHABCb6/vOGhgWB/ydOyJTvedTuJeibhqRtYAtpmAePV12zqJyKzMX2pOzlu
          YYvbBhd7E3DbXgnHj25tt6R5LbY/0gnvScvGza8Xh1SseQ5+E16AGvWw6traczca
          i7d+h+I+a4AKvgg3GDkgcQKBgQDPcy9vILRadL92qlRUdptOGUg5z+tQrNcTNv9T
          51OyLaPaOUQV0Ke7HNVrK9DyJaCCKoH03e1PCgzke+esMskyZBbGrLmuIjUpjh4S
          Lf4HXDGpx5gXrORni9fORhx1zfE/5ugLYqHRaqCv/yUi0XSSLKMIkm4hsO2LWGKa
          8lkctwKBgDAHQZ0Q2pf7E5wIVtrl+m5nVZE0UoC8V6yuixaAbY/xDsFPQB43MeFZ
          DPuFPToULP4NyoWDR6ooM9vnRs7+zKTZq80dAbtmLxQgXeOtTlf+x2/WO5w0NHAG
          MZTdbsWQUeb1kX+cfL5hKOo55UUgnGs6bK+bTlUsrj8j/rHhQEV5
          -----END RSA PRIVATE KEY-----
networks:
  - name: elastic
    cloud_properties:
      availability_zone: eu-west-1a
